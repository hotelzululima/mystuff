$OpenBSD$
--- src/util/select.h.orig	Fri Oct 19 13:45:18 2012
+++ src/util/select.h	Fri Nov 30 16:18:36 2012
@@ -37,6 +37,9 @@
 #include <errno.h>
 #include <signal.h>
 #include <sys/select.h>
+#ifdef __OpenBSD__
+#include <sys/time.h>
+#endif
 #include <assert.h>
 
 #include "fatal_assert.h"
@@ -126,6 +129,9 @@ class Select { (public)
     got_any_signal = 0;
 
     struct timespec ts;
+#ifdef __OpenBSD__ 
+    struct timeval tval;
+#endif
     struct timespec *tsp = NULL;
 
     if ( timeout >= 0 ) {
@@ -136,7 +142,12 @@ class Select { (public)
     }
     // negative timeout means wait forever
 
+#ifdef __OpenBSD__ 
+    TIMESPEC_TO_TIMEVAL( &tval, &ts );
+    int ret = ::select( max_fd + 1, &read_fds, NULL, &error_fds, &tval );
+#else
     int ret = ::pselect( max_fd + 1, &read_fds, NULL, &error_fds, tsp, &empty_sigset );
+#endif
 
     if ( ( ret == -1 ) && ( errno == EINTR ) ) {
       /* The user should process events as usual. */
